/* 1. Nạp Tailwind CSS */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* 2. Cấu hình & Reset cơ bản (Thay thế Preflight) */
:root {
  --el-font-size-base: 14px;
  --el-border-radius-base: 8px;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

*,
::before,
::after {
  border-width: 0;
  border-style: solid;
  border-color: #e5e7eb; /* Màu mặc định gray-200 */
}

html,
body {
  font-family:
    'Inter',
    -apple-system,
    BlinkMacSystemFont,
    'Segoe UI',
    Roboto,
    'Helvetica Neue',
    Arial,
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Dùng biến màu của Element Plus để đồng bộ nền tảng */
  background-color: var(--el-bg-color-page);
  color: var(--el-text-color-primary);
  height: 100%;
}

#app {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* 3. Hiệu ứng chuyển màu mượt mà (Global Transition) */
body,
.sidebar,
.header,
.main-container,
.main-content,
.el-card {
  transition:
    background-color 0.3s ease,
    border-color 0.3s ease,
    color 0.3s ease;
}

/* 4. Dark Mode Global Overrides */
html.dark body {
  background-color: #141414;
  color: #e5eaf3;
}

/* Fix nền cho các container cũ trong Dark Mode (Hỗ trợ trang chưa refactor) */
html.dark .main-container,
html.dark .main-content,
html.dark .dashboard-page,
html.dark .admin-dashboard-page {
  background-color: #141414 !important;
}

/* --- MENU ITEM HOVER EFFECT (Vạch trái bung dọc) --- */
.hover-left-bar {
  position: relative;
  /* Lưu ý: Không dùng overflow: hidden để tránh mất border-radius nếu có */
}

/* Tạo vạch màu ảo bên trái */
.hover-left-bar::before {
  content: '';
  position: absolute;
  left: 0; /* Dính sát lề trái */
  top: 0;
  bottom: 0;
  width: 4px; /* Độ dày vạch */
  background-color: var(--el-color-primary); /* Màu xanh chủ đạo */

  /* Key logic: Ban đầu thu nhỏ chiều cao về 0, tâm ở giữa */
  transform: scaleY(0);
  transform-origin: center;
  transition: transform 0.3s ease; /* Hiệu ứng mượt mà */

  border-radius: 0 4px 4px 0; /* Bo góc phải của vạch cho mềm */
  z-index: 10;
}

/* Khi hover thì bung chiều cao ra 100% (scaleY=1) */
.hover-left-bar:hover::before {
  transform: scaleY(1);
}

/* Khi item đang Active (đang chọn) thì giữ vạch này hiện luôn */
.hover-left-bar.is-active::before {
  transform: scaleY(1);
  background-color: var(--el-color-primary); /* Giữ màu xanh */
}

/* Chỉnh màu nền nhẹ khi hover để làm nổi bật vạch */
.hover-left-bar:hover {
  background-color: var(--el-color-primary-light-9) !important;
}
html.dark .hover-left-bar:hover {
  background-color: rgba(64, 158, 255, 0.15) !important;
}

/* 5. Custom Scrollbar (Thanh cuộn đẹp) */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #dcdfe6;
  border-radius: 4px;
}
::-webkit-scrollbar-thumb:hover {
  background: #c0c4cc;
}
html.dark ::-webkit-scrollbar-thumb {
  background: #4c4d4f;
}
html.dark ::-webkit-scrollbar-thumb:hover {
  background: #606266;
}
